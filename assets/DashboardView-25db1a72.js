import{_ as h,R as p,r as d,o as k,c as _,a as t,b as n,w as o,n as l,i as f,F as v,d as s}from"./index-c66b7115.js";const g={data(){return{isLogin:!1,disabled:!0}},component:{RouterView:p},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,alert("帳號已登出"),this.$router.push("/login")},checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,e||(alert("請登入帳號"),this.$router.push("/login"));const i="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(i).then(c=>{this.isLogin=!0}).catch(c=>{console.log(c)})}},mounted(){this.checkLogin()}},x={class:"py-2 text-white bg-dark align-"},b={class:"container-fluid"},$={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},w={class:"nav col-12 col-lg-auto me-lg-auto justify-content-center mb-md-0"},V={class:"d-flex text-end align-items-center"};function y(e,i,c,C,L,r){const a=d("router-link"),u=d("RouterView");return k(),_(v,null,[t("header",x,[t("div",b,[t("nav",$,[n(a,{class:"navbar-brand mx-3",to:"/admin"},{default:o(()=>[s("後台")]),_:1}),t("ul",w,[t("li",{class:l(["nav-item admin-block",{active:e.$route.path==="/admin/products"}])},[n(a,{class:"nav-link admin-link px-2",to:"/admin/products"},{default:o(()=>[s("產品管理")]),_:1})],2),t("li",{class:l(["nav-item admin-block",{active:e.$route.path==="/admin/orders"}])},[n(a,{class:"nav-link admin-link px-2",to:"/admin/orders"},{default:o(()=>[s("訂單管理")]),_:1})],2),t("li",{class:l(["nav-item admin-block",{active:e.$route.path==="/admin/coupon"}])},[n(a,{class:"nav-link admin-link px-2",to:"/admin/coupon"},{default:o(()=>[s("優惠卷管理")]),_:1})],2),t("li",{class:l(["nav-item admin-block",{active:e.$route.path==="/admin/article"}])},[n(a,{class:"nav-link admin-link px-2",to:"/admin/article"},{default:o(()=>[s("貼文管理")]),_:1})],2)]),t("div",V,[n(a,{class:"nav-link admin-link px-2 me-3",to:"/"},{default:o(()=>[s("返回前台")]),_:1}),t("button",{type:"button",class:"btn btn-outline-light",onClick:i[0]||(i[0]=f((...m)=>r.logout&&r.logout(...m),["prevent"]))},"帳號登出")])])])]),n(u)],64)}const j=h(g,[["render",y]]);export{j as default};
